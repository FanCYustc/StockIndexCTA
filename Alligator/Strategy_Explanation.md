# Alligator (鳄鱼线) 策略解释文档

**策略名称**: Alligator (鳄鱼线趋势策略)  
**交易标的**: IF (沪深300股指期货) / 默认  
**数据频率**: 分钟线 (1分钟)  
**来源**: 申万宏源_20160901_技术指标测试大全之四—Alligator

## 1. 核心思想

鳄鱼线（Alligator）指标由 Bill Williams 创造，旨在通过三条不同周期的平滑移动平均线（分别代表鳄鱼的嘴唇、牙齿和下巴）来识别市场的状态。
*   **纠缠**: 当三条线纠缠在一起时，鳄鱼处于“睡眠”状态，市场为震荡行情，策略建议观望。
*   **张口**: 当三条线分开并向同一方向发散时，鳄鱼“醒来”并张大嘴巴，预示着趋势（捕食）的开始。

本策略基于申万宏源研报中的测试逻辑，利用价格线与三条均线的位置关系来捕捉趋势交易机会。

## 2. 指标计算

策略使用 **MP (中间价)** 作为计算基础，并计算三条 **平滑移动平均线 (MEMA/SMMA)**。

### 2.1 基础价格 (MP)
$$ MP = \frac{\text{High} + \text{Low}}{2} $$

### 2.2 鳄鱼三线
*   **Lips (嘴唇/绿线)**: 短周期均线。
    $$ \text{Lips} = \text{MEMA}(MP, \text{FAST}) $$
*   **Teeth (牙齿/红线)**: 中周期均线。
    $$ \text{Teeth} = \text{MEMA}(MP, \text{MID}) $$
*   **Jaw (下巴/蓝线)**: 长周期均线。
    $$ \text{Jaw} = \text{MEMA}(MP, \text{SLOW}) $$

**注**:
1.  **MEMA算法**: 研报中提到的 MEMA 对应为 Smoothed Moving Average (SMMA)，在计算上等同于 `alpha = 1/N` 的指数移动平均 (EMA)。
2.  **无平移**: 标准 Alligator 指标通常包含向未来的平移（Shift），但研报中的伪代码及信号描述未明确提及平移，且信号逻辑依赖当前价格与均线的直接对比。因此本策略实现未包含平移。

**默认参数**:
*   FAST = 5
*   MID = 8
*   SLOW = 13

## 3. 交易逻辑 (买卖信号)

策略根据 **收盘价 (Price)** 与三条均线的相对位置关系产生信号。

### 3.1 买入信号 (Buy)
当满足以下严格的多头排列时，发出买入信号（看多）：
$$ \text{Price} > \text{Lips} > \text{Teeth} > \text{Jaw} $$

**操作**: 持有多仓 (`position = 1`)。

### 3.2 卖出信号 (Sell)
当满足以下严格的空头排列时，发出卖出信号（看空）：
$$ \text{Price} < \text{Lips} < \text{Teeth} < \text{Jaw} $$

**操作**: 持有空仓 (`position = -1`)。

### 3.3 空仓/观望 (Flat)
当上述两种趋势条件均不满足时（例如线条纠缠、次序混乱或价格位于均线之间），视为震荡行情。

**操作**: 平仓/空仓 (`position = 0`)。

## 4. 总结

*   **策略类型**: 趋势跟随 (Trend Following)
*   **关键特点**:
    *   **仿生学形态**: 利用三条均线的“纠缠”（睡眠）和“发散”（张口）形象地描述市场状态。
    *   **右侧交易**: 严格等待均线完全发散（多头/空头排列）才入场，牺牲了部分头部/底部利润以换取趋势确定性。
*   **风险**: 在震荡行情中，由于均线频繁交叉，可能导致频繁的假信号和磨损（Whipsaw）。
